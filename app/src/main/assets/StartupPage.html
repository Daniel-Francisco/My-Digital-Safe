<!DOCTYPE html>
<html>

<head>
    <html lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    </html>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="./css/style.css">

</head>

<body>
    <div class="container">
        <div id="loginForm">
            <div>Password Strength:</div>
            <br>
            <progress id="passwordStrengthBar" value="0" max="10"></progress> <br>
            <div id="userPasswordPrompt"></div> <br>

            <div>Please create your password!</div>
            <input name="passwordOne" id="passwordOne" value="" class="input" placeholder="New Password" type="password">
            <input name="passwordTwo" id="passwordTwo" value="" class="input" placeholder="Confirm New Password" type="password"><br>

            <select id="dropDown">
                <option value="high">High level security</option>
                <option value="medium" selected="selected">Medium level security</option>
                <option value="low">Low level security</option>
            </select>

            <br>



            <br>

            <input id="createPassword" value="Create Password!" class="login" type="button">
        </div>
    </div>


    <script>
		$(document).ready(function() {

			$("#createPassword").on("click", function(event) {
			    event.preventDefault();

			    var passwordOne = $("#passwordOne").val();
			    var passwordTwo = $("#passwordTwo").val();

			    var dropDownValue = $('#dropDown').val();

				Android.createPassword(passwordOne, passwordTwo, dropDownValue);
			});


            $('#passwordOne').on('input', function() {
                console.log("Hello World!");
                var passwordOne = $("#passwordOne").val();
                console.log("Password value: " + passwordOne);
                var strength = Android.checkPasswordStrength(passwordOne);

                if (strength == -1) {
                    document.getElementById("userPasswordPrompt").innerHTML = "Password must be at least 6 characters!";
                }
                if(strength == -2){
                    document.getElementById("userPasswordPrompt").innerHTML = "Password is not complicated enough! Try adding upper and lower case values, as well as numbers and symbols!";
                }
                if(strength > 0) {
                    document.getElementById("userPasswordPrompt").innerHTML = "";
                }


                if(strength < 0){
                    strength = 0;
                }


                console.log("Password Strength: " + strength);
                $("#passwordStrengthBar").val(strength);



            });
        });



        function clearFields(){
            $("#passwordOne").val("");
            $("#passwordTwo").val("");
        }



	</script>

</body>

</html>