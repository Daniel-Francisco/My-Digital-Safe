<!DOCTYPE html>
<html>

<head>
    <html lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    </html>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="./css/style.css">

    <link rel="stylesheet" href="./css/StartupPage.css">

</head>

<body>
<div class="container">
    <div id="loginForm">
        <div id="passwordCreateArea">
            <img src="images/black_logo.png" id="loginLogo"/>

            <div>Password Strength:</div>
            <progress id="passwordStrengthBar" value="0" max="10"></progress>
            <div id="userPasswordPrompt"></div>

            <div>Please create your password!</div>
            <input name="passwordOne" id="passwordOne" value="" class="input" placeholder="New Password"
                   type="password">
            <input name="passwordTwo" id="passwordTwo" value="" class="input" placeholder="Confirm New Password"
                   type="password"><br>

            <input id="createPassword" value="Create Password!" class="login" type="button">
            <div id="loader" class="displayNone loader"></div>

        </div>

    </div>
</div>


<script>
    $(document).ready(function () {

        $("#createPassword").on("click", function (event) {
            event.preventDefault();

            var passwordOne = $("#passwordOne").val().trim();
            var passwordTwo = $("#passwordTwo").val().trim();
            // var dropDownValue = $('#dropDown').val();

            document.getElementById("loader").classList.remove("displayNone");
            document.getElementById("createPassword").classList.add("displayNone");

            Android.createPassword(passwordOne, passwordTwo);
        });


        $('#passwordOne').on('input', function () {
            console.log("Hello World!");
            var passwordOne = $("#passwordOne").val().trim();
            console.log("Password value: " + passwordOne);
            var strength = Android.checkPasswordStrength(passwordOne);

            if (strength == -1) {
                $("#userPasswordPrompt").innerHTML = "Password must be at least 6 characters!";
            }
            if (strength == -2) {
                $("#userPasswordPrompt").innerHTML = "Password is not complicated enough! Try adding upper and lower case values, as well as numbers and symbols!";
            }
            if (strength > 0) {
                $("#userPasswordPrompt").innerHTML = "";
            }
            if (strength < 0) {
                strength = 0;
            }

            if(strength < 4){
                $("#passwordStrengthBar").addClass("badPassword");
                $("#passwordStrengthBar").removeClass("mediumPassword");
                $("#passwordStrengthBar").removeClass("goodPassword");
            }else if(strength < 7){
                $("#passwordStrengthBar").removeClass("badPassword");
                $("#passwordStrengthBar").addClass("mediumPassword");
                $("#passwordStrengthBar").removeClass("goodPassword");
            }else{
                $("#passwordStrengthBar").removeClass("badPassword");
                $("#passwordStrengthBar").removeClass("mediumPassword");
                $("#passwordStrengthBar").addClass("goodPassword");
            }


            console.log("Password Strength: " + strength);
            $("#passwordStrengthBar").val(strength);


        });
    });


    function clearFields() {
        $("#passwordOne").val("");
        $("#passwordTwo").val("");

        document.getElementById("loader").classList.add("displayNone");
        document.getElementById("createPassword").classList.remove("displayNone");
    }


</script>

</body>

</html>