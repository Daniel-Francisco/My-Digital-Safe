<!DOCTYPE html>
<html>

	<head>
		<html lang="en">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		</html>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<link rel="stylesheet" href="./css/style.css">

	</head>

	<div id="page">
		<input id="deleteNote" value="Delete" class="delete" type="button">
		<textarea id="noteArea" oninput="updateJavaString()" rows="30"></textarea>
	</div>

<style>
	#page{
		width: 100%;
		height: 100%;
		display: block;
		margin: auto;
	}
	#noteArea{
		width:100%;
		rows:100;
	}
	#deleteNote{
		display: block;
		position:relative;
		margin: 10px auto;
		float:none;
		color:red;
	}
</style>

<script>
	console.log("Test");
	var initialText = Android.fetchContents();
	var editText = document.getElementById("noteArea");
	editText.value = initialText;

	function updateJavaString(){
		Android.updateNoteValue(editText.value);
	}

	$(document).ready(function() {
		$("#deleteNote").on("click", function(event) {
			event.preventDefault();
	       	Android.deleteNote();
		});

		document.getElementById("noteArea").addEventListener("keyup", function(event) {
			event.preventDefault();
			if (event.keyCode === 13) {
				document.getElementById("saveButton").click();
			}
		});

	});

</script>

</html>